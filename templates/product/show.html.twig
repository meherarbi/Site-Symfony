{% extends 'base.html.twig' %}

{% block seo %}
    {% if product.name == "Prot√©ine Naturelle Bio & Riche en BCAA" %}
        <title>Prot√©ine Naturelle Bio & BCAA - Id√©ale pour Musculation et Fitness</title>
        <meta name="description" content="Boostez votre performance avec notre Prot√©ine Naturelle Bio & Riche en BCAA. 100% naturelle, sans additifs, id√©ale pour la musculation et la r√©cup√©ration. Commandez maintenant !">
        <meta name="keywords" content="prot√©ine naturelle, whey bio, compl√©ment alimentaire, musculation, fitness, BCAA, nutrition sportive, prot√©ines v√©gan, alimentation sportive">
        <meta name="author" content="Foryoumer - Sp√©cialiste en Nutrition Sportive">
    {% endif %}
    {{ parent() }}
{% endblock %}

{% block title %}
	{{ product.name }}
{% endblock %}



{% block content %}

	<div class="ogami-breadcrumb">
		<div class="container">
			<ul>
				<li><a class="breadcrumb-link"href="{{path('home')}}"><i class="fas fa-home"></i>Home</a></li>
				<li><a class="breadcrumb-link"href="{{path('products')}}">Shop</a></li>
				<li><a class="breadcrumb-link active" href="">Shop Detail Sidebar</a></li>
			</ul>
		</div>
	</div>
	<!-- End breadcrumb-->
	<div class="shop-layout">
		<div class="container">
			<div class="row">
				<div class="col-xl-3">
					<div class="shop-sidebar">
						<button class="no-round-btn" id="filter-sidebar--closebtn">Close sidebar</button>
						<div class="shop-sidebar_department">
							<div class="department_top mini-tab-title underline">
								<h2 class="title">Departments</h2>
							</div>

							<div class="department_bottom">


								<ul>
									{% for categorie in cat.getCategories %}
										<li></li>
										<li>
											<a class="department-link" href="{{path('product_category',{'id':categorie.id})}} ">{{ categorie.name }}</a>
										</li>
									</li>
								{% endfor %}
							</ul>
						</div>
					</div>
					{# <div class="shop-sidebar_tag">
																																																														<div class="tag_top mini-tab-title underline">
																																																															<h2 class="title">Product tag</h2>
																																																														</div>
																																																														<div class="tag_bottom">
																																																															<a class="tag-btn" href="shop_grid+list_3col.html">organic</a>
																																																															<a class="tag-btn" href="shop_grid+list_3col.html">vegatable</a>
																																																															<a class="tag-btn" href="shop_grid+list_3col.html">fruits</a>
																																																															<a class="tag-btn" href="shop_grid+list_3col.html">fresh meat</a>
																																																															<a class="tag-btn" href="shop_grid+list_3col.html">fastfood</a>
																																																															<a class="tag-btn" href="shop_grid+list_3col.html">natural</a>
																																																														</div>
																																																													</div> #}
				</div>
				<div class="filter-sidebar--background" style="display: none"></div>
			</div>

			<div class="col-xl-9">
				<div class="shop-detail">
					<div class="row">
						<div class="col-12">
							<div id="show-filter-sidebar">
								<h5>
									<i class="fas fa-bars"></i>Show sidebar</h5>
							</div>
						</div>
						<div class="col-12 col-lg-6">
							<div class="shop-detail_img">
								<button class="round-icon-btn" id="zoom-btn">
									<i class="icon_zoom-in_alt"></i>
								</button>
								<div
									class="big-img">
									{# Afficher l'image principale (illustration) #}
    <img src="{{ asset('uploads/' ~ product.illustration) }}" alt="{{ product.name }} produit foryoumer.com proteine naturelle " class="img-fluid">

									{# Afficher les images suppl√©mentaires si elles existent #}


									<div class="big-img_block"><img src="/uploads/{{ product.imageFile }}" alt="{{ product.name }} produit foryoumer.com " class="img-fluid"></div>
									<div class="big-img_block"><img src="/uploads/{{ product.img }}" alt="{{ product.name }} produit foryoumer.com proteine naturelle " class="img-fluid"></div>


								</div>
								<div
									class="slide-img">
									{# Afficher l'image principale (illustration) #}
									<div class="slide-img_block"><img src="/uploads/{{ product.illustration }}" alt="{{ product.name }} produit foryoumer.com "></div>

									{# Afficher les images suppl√©mentaires si elles existent #}
									{% if product.imageFile and product.img %}
										<div class="big-img_block"><img src="/uploads/{{ product.imageFile}}" alt="{{ product.name }} produit foryoumer.com " class="img-fluid"></div>
										<div class="big-img_block"><img src="/uploads/{{ product.img }}" alt="{{ product.name }} produit foryoumer.com " class="img-fluid"></div>
									{% endif %}


								</div>

							</div>
							<div class="img_control"></div>
						</div>
						<div class="col-12 col-lg-6">
							<div class="shop-detail_info">

								<h5 class="product-type color-type">{{ product.subtitle }}</h5>
								<h2 class="product-name">{{ product.name }}</h2>
								<p class="product-describe">{% if product.name == "Prot√©ine Naturelle Bio & Riche en BCAA" %}
								</p>

<div id="short-description">
   <div class="product-describe">
    <p>
        Boostez votre performance avec <strong>Naturo Boost</strong>, la 
        <strong>prot√©ine naturelle id√©ale</strong> pour la musculation et la nutrition saine. 
        Riche en <strong>BCAA et prot√©ines bio</strong>, sans additifs, digestion rapide.
    </p>
</div>



</div>




{% else %}
<p>{{product.description}}</p>
{% endif %}



								<div class="price-rate">
									<h3 class="product-price">
										<del>{{ (product.oldPrice/100)|number_format(2) }}
											‚Ç¨
										</del>
										{{ (product.price/100)|number_format(2) }}
										‚Ç¨
									</h3>
									<h5 class="product-rated">
										<i class="icon_star"></i>
										<i class="icon_star"></i>
										<i class="icon_star"></i>
										<i class="icon_star"></i>
										<i class="icon_star-half"></i>
										<span>(15)</span>
									</h5>
								</div>


								<div class="product-select">
									<a href="{{ path('cart_add_to_cart',{'slug':product.slug}) }}">
										<button class="add-to-cart normal-btn outline">Add to Cart</button>
									</a>


									{# <button class="add-to-compare normal-btn outline">+ Add to Compare</button> #}
								</div>
								<div class="product-share">
									<h5>Share link:</h5>
									<a href="">
										<i class="fab fa-facebook-f"></i>
									</a>
									<a href="">
										<i class="fab fa-twitter"></i>
									</a>
									<a href="">
										<i class="fab fa-invision"></i>
									</a>
									<a href="">
										<i class="fab fa-pinterest-p"></i>
									</a>
								</div>
							</div>
						</div>
						<div class="col-12">
							<div class="shop-detail_more-info">
								<div id="tab-so3">
									<ul class="mb-0">
										<li class="active">
											<a href="#tab-1">DESCRIPTION</a>
										</li>
										<li>
											<a href="#tab-2">SPECIFICATIONS</a>
										</li> 
										
										{% if product.name == "Prot√©ine Naturelle Bio & Riche en BCAA" %}
										<li>
                                            <a href="#tab-3">Customer Reviews (04)</a>
                                        </li>
                                        {% endif %}
                                        
									</ul>
									<div id="tab-1">
										<div class="description-block">
											<div class="description-item_block">
												<div class="row align-items-center">
													<div class="col-12 col-md-6">
														{% if product.descriptionImage %}
															<div class="description-item_img"><img class="img-fluid" src="/uploads/{{ product.descriptionImage }}" alt="{{ product.name }} produit foryoumer.com "></div>
														{% endif %}
													</div>
													<div class="col-12 col-md-6">
														<div class="description-item_text">
															<h2>Product information</h2>
															<p>{{product.description}}</p>
															
														</div>
													</div>
												</div>
											</div>

										</div>
									</div>
									{% if product.name == "Prot√©ine Naturelle Bio & Riche en BCAA" %}
<div id="tab-2">
    <div class="specifications_block">
        <h2 class="product-title">Pourquoi choisir la Prot√©ine Naturelle Bio & Riche en BCAA ?</h2>
        <p class="product-description">
            D√©couvrez la <strong>Prot√©ine Naturelle Bio & Riche en BCAA</strong>, un compl√©ment alimentaire de haute qualit√© con√ßu pour les amateurs de **fitness et musculation**. 
            Formul√©e √† partir d'ingr√©dients naturels, elle garantit une <strong>meilleure r√©cup√©ration</strong> et une **croissance musculaire optimale**.
        </p>

        <h3 class="product-subtitle">Les avantages de notre Prot√©ine Naturelle</h3>
        <ul class="product-advantages">
            <li>üåø **100% naturelle**, sans additifs ni conservateurs.</li>
            <li>üí™ **Id√©ale pour la musculation et le fitness**.</li>
            <li>ü•õ Se m√©lange parfaitement avec de l'eau, du lait ou un smoothie.</li>
            <li>üî• **Riche en BCAA** pour une meilleure r√©cup√©ration musculaire.</li>
            <li>üöÄ **Absorption rapide** pour une efficacit√© maximale apr√®s l'entra√Ænement.</li>
        </ul>

        <h3 class="product-subtitle">Comment consommer cette Prot√©ine Naturelle ?</h3>
        <p class="product-description">
            M√©langez **30g de prot√©ine** avec **250 ml d'eau ou de lait**. √Ä consommer **apr√®s l'entra√Ænement** ou au **petit-d√©jeuner** pour un apport optimal en prot√©ines.
        </p>

        <h3 class="product-subtitle">Pourquoi notre Prot√©ine est-elle meilleure ?</h3>
        <ul class="product-advantages">
            <li>üå± **100% bio**, issue de sources durables.</li>
            <li>üö´ Sans sucre ajout√© ni √©dulcorants artificiels.</li>
            <li>üíØ Convient aux **r√©gimes v√©gan, keto et sans gluten**.</li>
            <li>üß™ Test√©e en laboratoire pour garantir une **qualit√© premium**.</li>
        </ul>

        <h3 class="product-subtitle">Commandez D√®s Maintenant</h3>
        <p class="product-description">
            Ne manquez pas cette opportunit√© ! **Commandez aujourd'hui** et profitez de **la livraison rapide** et d'une **r√©duction exclusive** pour les nouveaux clients.
        </p>
    </div>
</div>


{% endif %}									
									


									<!-- Ajoutez ce code dans le fichier CSS de votre choix -->
									<style>
									
									.product-describe {
    font-size: 16px;
    line-height: 1.6; /* Espacement entre les lignes */
    margin-bottom: 15px; /* Ajoute un espace sous le paragraphe */
    color: #333; /* Am√©liore la lisibilit√© */
}
									
										.size-option {
											cursor: pointer;
											padding: 3px 5px;
											border: 1px solid #ccc;
											border-radius: 3px;
											display: inline-block;
											margin-right: 5px;
										}

										.size-option:hover {
											background-color: #f5f5f5;
										}

										.size-option.selected {
											background-color: #f5f5f5;
										}
										
										
										
										.specifications_block {
    margin-bottom: 30px; /* Ajoute un espace en bas */
}

.product-title {
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 15px; /* Ajoute un espace sous le titre */
}

.product-subtitle {
    font-size: 20px;
    font-weight: bold;
    margin-top: 25px;
    margin-bottom: 10px;
}

.product-description {
    font-size: 16px;
    line-height: 1.6; /* Ajoute de l'espace entre les lignes */
    margin-bottom: 15px;
}

.product-advantages {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* Cr√©e des colonnes flexibles */
    gap: 15px; /* Ajoute de l‚Äôespace entre les √©l√©ments */
    padding: 10px;
}

.product-advantages li {
    background: #f8f8f8; /* L√©g√®re coloration pour mieux distinguer */
    padding: 15px;
    border-radius: 8px; /* Arrondit les bords */
    list-style: none;
    display: flex;
    align-items: center;
    gap: 10px;
}

.product-advantages li::before {
    content: "‚úîÔ∏è"; /* Ajoute une ic√¥ne par d√©faut */
    font-size: 18px;
}


#tab-2 {
    display: none;
}

#tab-so3 ul li.active a {
    font-weight: bold;
    color: #007bff; /* Couleur active */
}


									</style>

									{# Ajoutez ce code dans un fichier JavaScript ou dans un bloc <script> dans votre template #}
<script>
	document.addEventListener('DOMContentLoaded', function () {
const sizeOptions = document.querySelectorAll('.size-option');

sizeOptions.forEach(function (sizeOption) {
sizeOption.addEventListener('click', function () {
sizeOptions.forEach(function (option) {
option.classList.remove('selected');
});

this.classList.add('selected');
const selectedSize = this.getAttribute('data-size');

// Mettez √† jour le panier avec la taille s√©lectionn√©e
// Par exemple, en utilisant AJAX pour envoyer la taille au serveur
console.log('La taille s√©lectionn√©e est : ' + selectedSize);
});
});
});

$(document).ready(function () {
  $('.add-to-cart').click(function (event) {
    event.preventDefault();

    const productSlug = $(this).parent().attr('href').split('/').pop();
    const sizeOptions = $('.size-option');
    let selectedSize;
 // Cachez le message d'erreur √† chaque fois que le bouton est cliqu√©
  $('#notification').css('display', 'none');
    if (sizeOptions.length > 0) {
      // Si le produit a des options de taille
      selectedSize = $('.size-option.selected').data('size');

      if (!selectedSize) {
        // Si aucune taille n'est s√©lectionn√©e, afficher le message d'erreur et retourner
        $('#notification').text('Veuillez s√©lectionner une taille avant d\'ajouter au panier.').css('display', 'block');
        return;
      }
    }

    $.ajax({
      url: '/my-cart/cart/add/' + productSlug,
      type: 'POST',
      data: {
        selectedSize: selectedSize
      },
      success: function (response) {
        console.log('Produit ajout√© au panier');
        $('#notification').text('Produit ajout√© au panier').css('display', 'block');

        setTimeout(function() {
          window.location.href = '/my-cart/';
        }, 2000);
      },
      error: function (response) {
        console.log('Erreur lors de l\'ajout du produit au panier');
        $('#notification').text('Erreur lors de l\'ajout du produit au panier').css('display', 'block');
      }
    });
  });
});

</script>
	{% if product.name == "Prot√©ine Naturelle Bio & Riche en BCAA" %}
<div id="tab-3">
    <div class="customer-reviews_block">

        <!-- Avis 1 -->
        <div class="customer-review">
            <div class="row">
                <div class="col-12 col-sm-3 col-lg-2">
                    <div class="customer-review_left">
                        {#
                        <div class="customer-review_img text-center">
                            <img class="img-fluid" src="assets/images/shop/reviewer_01.png" alt="Avis client 1">
                        </div>
                        #}
                        <div class="customer-rate">
                            <i class="icon_star"></i>
                            <i class="icon_star"></i>
                            <i class="icon_star"></i>
                            <i class="icon_star"></i>
                            <i class="icon_star-half"></i>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-sm-9 col-lg-10">
                    <div class="customer-comment">
                        <h5 class="comment-date">15 F√©vrier 2025</h5>
                        <h3 class="customer-name">Marie Reevls</h3>
                        <p class="customer-commented">
                            Super produit ! J‚Äôai ressenti une vraie am√©lioration de ma r√©cup√©ration musculaire. 
                            Tr√®s digeste et agr√©able √† consommer apr√®s l‚Äôentra√Ænement !
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Avis 2 -->
        <div class="customer-review">
            <div class="row">
                <div class="col-12 col-sm-3 col-lg-2">
                    <div class="customer-review_left">
                         {#
                        <div class="customer-review_img text-center">
                            <img class="img-fluid" src="assets/images/shop/reviewer_02.png" alt="Avis client 2">
                        </div>
                        #}
                        <div class="customer-rate">
                            <i class="icon_star"></i>
                            <i class="icon_star"></i>
                            <i class="icon_star"></i>
                            <i class="icon_star"></i>
                            <i class="icon_star"></i>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-sm-9 col-lg-10">
                    <div class="customer-comment">
                        <h5 class="comment-date">13 F√©vrier 2025</h5>
                        <h3 class="customer-name">Jean Hovart</h3>
                        <p class="customer-commented">
                            Excellente prot√©ine naturelle ! Pas d‚Äôadditifs, go√ªt agr√©able, et efficace pour la prise de masse musculaire.
                            Je recommande √† 100% !
                        </p>
                    </div>
                </div>
            </div>
        </div>
        
         <!-- Avis 3 -->
        <div class="customer-review">
            <div class="row">
                <div class="col-12 col-sm-3 col-lg-2">
                    <div class="customer-review_left">
                         {#
                        <div class="customer-review_img text-center">
                            <img class="img-fluid" src="assets/images/shop/reviewer_03.png" alt="Avis client 3">
                        </div>
                        #}
                        <div class="customer-rate">
                            <i class="icon_star"></i>
                            <i class="icon_star"></i>
                            <i class="icon_star"></i>
                            <i class="icon_star"></i>
                            <i class="icon_star"></i>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-sm-9 col-lg-10">
                    <div class="customer-comment">
                        <h5 class="comment-date">8 F√©vrier 2025</h5>
                        <h3 class="customer-name">Lucas Bernard</h3>
                        <p class="customer-commented">
                            J'ai essay√© plusieurs prot√©ines, mais celle-ci est la meilleure ! 
                            Facile √† dig√©rer, sans arri√®re-go√ªt chimique et tr√®s efficace pour la r√©cup√©ration.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Avis 4 -->
        <div class="customer-review">
            <div class="row">
                <div class="col-12 col-sm-3 col-lg-2">
                    <div class="customer-review_left">
                        {#
                        <div class="customer-review_img text-center">
                            <img class="img-fluid" src="assets/images/shop/reviewer_04.png" alt="Avis client 4">
                        </div>
                        #}
                        <div class="customer-rate">
                            <i class="icon_star"></i>
                            <i class="icon_star"></i>
                            <i class="icon_star"></i>
                            <i class="icon_star"></i>
                            <i class="icon_star-half"></i>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-sm-9 col-lg-10">
                    <div class="customer-comment">
                        <h5 class="comment-date">1 F√©vrier 2025</h5>
                        <h3 class="customer-name">Sophie Lambert</h3>
                        <p class="customer-commented">
                            Tr√®s bon rapport qualit√©-prix. La texture est agr√©able et elle se m√©lange tr√®s bien avec du lait ou un smoothie.
                            Id√©ale pour les entra√Ænements intensifs !
                        </p>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

{% endif %}
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	{# <script>
										function showNotification(event) {
										    event.preventDefault(); // Emp√™che la navigation vers la page du lien
										    var url = event.currentTarget.href; // R√©cup√®re l'URL du lien
										
										    // Affiche la notification
										    $('#notification').fadeIn(500).delay(2000).fadeOut(500);
										
										    // Ajoute le produit au panier en utilisant une requ√™te AJAX
										    fetch(url)
										        .then(function(response) {
										            if (response.ok) {
										                // Redirige vers la page du panier apr√®s un d√©lai
										                setTimeout(function() {
										                    window.location.href = "{{ path('cart') }}"; // Remplacez 'cart' par la route correcte vers la page du panier
										                }, 3000); // Redirige apr√®s 3000 millisecondes (3 secondes)
										            } else {
										                console.error('Erreur lors de l\'ajout du produit au panier.');
										            }
										        })
										        .catch(function(error) {
										            console.error('Erreur lors de l\'ajout du produit au panier:', error);
										        });
										}
										
										
										{{ path('cart_add_to_cart',{'id':product.id}) }}
										</script> #}

	{# 
						<script>
							function addToCart(event, url) {
					event.preventDefault();
					// Emp√™che la navigation vers la page du lien
					
					// Ajoute le produit au panier en utilisant une requ√™te AJAX
					$.ajax({
					url: url,
					method: 'GET',
					success: function () { // Met √† jour le nombre d'articles dans le panier
					var cartItemCount = $('#cartItemCount');
					cartItemCount.text(parseInt(cartItemCount.text()) + 1);
					
					// Affiche la notification pendant 2 secondes
					cartItemCount.fadeIn(500).delay(2000).fadeOut(500);
					},
					error: function () {
					console.error('Erreur lors de l\'ajout du produit au panier.');
					}
					});
					}
						</script>
					 #}


{% endblock %}
